(()=>{var t={463:()=>{const t=document.querySelectorAll(".slider-dots"),e=document.querySelector(".slider-dots__dot-1"),o=document.querySelector(".slider-dots__dot-2"),n=document.querySelector(".slider-dots__dot-3"),s=document.getElementById("banner"),i="/src/images/banner-01.png",a="/src/images/banner-02.svg",r="/src/images/banner-03.svg";let c=1;function l(){e.classList.remove("active-dot"),o.classList.remove("active-dot"),n.classList.remove("active-dot")}t.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target;e.classList.contains("slider-dots__dot-1")&&(s.src=i,l(),c=1,e.classList.add("active-dot")),e.classList.contains("slider-dots__dot-2")&&(s.src=a,l(),c=2,e.classList.add("active-dot")),e.classList.contains("slider-dots__dot-3")&&(s.src=r,l(),c=3,e.classList.add("active-dot"))}))})),setInterval((function(){1===c?(s.src=a,l(),o.classList.add("active-dot"),c=2):2===c?(s.src=r,l(),n.classList.add("active-dot"),c=3):3===c&&(s.src=i,l(),e.classList.add("active-dot"),c=1)}),5e3)}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}(()=>{"use strict";function t(){const t=document.querySelector(".container-basket");let e=t.querySelector(".active-basket"),o=d.length;o>=1?(e||(e=document.createElement("span"),e.classList.add("active-basket"),t.appendChild(e)),e.textContent=o.toString()):e&&e.remove()}function e(){localStorage.setItem("books",JSON.stringify(d))}function n(t){let e="";return t.length>85&&(e+=t.slice(0,86)),t.length<85?t:`${e}...`}o(463);var s=function(t,e,o,n){return new(o||(o=Promise))((function(s,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function r(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,r)}c((n=n.apply(t,e||[])).next())}))};const i=document.querySelector(".load-more__btn"),a=document.querySelector(".book-cards"),r=document.querySelectorAll(".list__item");let c="",l=0,d=[];function u(){return s(this,void 0,void 0,(function*(){const t=(yield function(){return s(this,void 0,void 0,(function*(){try{const t=`https://www.googleapis.com/books/v1/volumes?q="${c||"subject:Architecture"}"&key=AIzaSyCkmsYtqK_Z-5kvEdmYoDq372osdOunrLA&printType=books&startIndex=${l}&maxResults=6&langRestrict=en`,e=yield fetch(t);if(!e.ok)throw new Error("Network response was not ok");return yield e.json()}catch(t){throw console.error("Error fetching data: ",t),t}}))}()).items;let e="";t.forEach((function(t){var o,s,i,a,r,c,l,d,u;e+=`<div class="book-card__universal" data-index="${t.id}">\n        <img class="book-card__main-photo" \n        src="${(null===(s=null===(o=t.volumeInfo)||void 0===o?void 0:o.imageLinks)||void 0===s?void 0:s.thumbnail)?t.volumeInfo.imageLinks.thumbnail:"/src/images/universal-cover.png"}" alt="book-cover">\n        <div class="book-card-info">\n        <p class="book-card-info__author">\n        ${(null===(i=t.volumeInfo)||void 0===i?void 0:i.authors)?function(t){let e=`${t[0]}`;return t.length>1?(t.forEach((t=>{e+=`, ${t}`})),n(e)):t[0]}(null===(a=t.volumeInfo)||void 0===a?void 0:a.authors):"No authors available"}\n        </p>\n        <h3 class="book-card-info__book-name">${(null===(r=t.volumeInfo)||void 0===r?void 0:r.title)?n(t.volumeInfo.title):"No title"}</h3>\n        <div class="book-card-info__rating"> \n        ${(null===(c=t.volumeInfo)||void 0===c?void 0:c.averageRating)?function(t){let e="";for(let o=0;o<5;o++)e+=o<t?'<img class="star" src="/src/images/Star-color.svg" alt="star-color">':'<img class="star" src="/src/images/Star.svg" alt="star">';return e}(t.volumeInfo.averageRating):'<span class="no-rating">No rating</span>'}\n        <span class="reviews">${(null===(l=t.volumeInfo)||void 0===l?void 0:l.ratingsCount)?t.volumeInfo.ratingsCount:14} review</span></div>\n        <p class="book-card-info__description">${(null===(d=t.volumeInfo)||void 0===d?void 0:d.description)?n(t.volumeInfo.description):"No description available"}</p>\n        <span class="book-card-info__price">${"number"==typeof(null===(u=t.saleInfo)||void 0===u?void 0:u.retailPrice)?t.saleInfo.retailPrice:"12.35$"}</span>\n        <button class="book-card-info__button" data-index="${t.id}">buy now</button>\n        </div>\n    </div>`})),a.insertAdjacentHTML("beforeend",e),l+=7}))}!function(){const e=localStorage.getItem("books");e&&(d=JSON.parse(e)),u(),t(),console.log(d)}(),i.addEventListener("click",u),r.forEach((e=>{e.addEventListener("click",(e=>{const o=e.target;document.querySelector(".list__item.list__item-active").classList.remove("list__item-active"),document.querySelector(".active-point").remove(),o.classList.add("list__item-active");const n=document.createElement("div");n.classList.add("active-point"),o.appendChild(n),c=`subject:${o.textContent}`,l=0,document.querySelectorAll(".book-card__universal").forEach((t=>{t.remove()})),u(),d=[],localStorage.clear(),t()}))})),document.addEventListener("click",(o=>{const n=o.target;n.classList.contains("book-card-info__button")&&("In the Cart"===n.textContent?(n.innerText="buy now",function(t){const o=t.getAttribute("data-index"),n=d.findIndex((t=>t.dataIndex===o));n>-1&&(d.splice(n,1),e()),t.classList.remove("active-button"),console.log(localStorage)}(n),t()):(n.innerText="In the Cart",function(t){const o=t.parentNode.parentNode;t.classList.add("active-button");const n=t.getAttribute("data-index"),s=o.querySelector(".book-card-info__author"),i=o.querySelector(".book-card-info__book-name"),a=o.querySelectorAll(".star"),r=o.querySelector(".reviews"),c=o.querySelector(".book-card-info__description"),l=o.querySelector(".book-card__main-photo");let u={dataIndex:n,authors:s.textContent,title:i.textContent,averageRating:a,ratingsCount:r,description:c.textContent,imageLinks:l};d.push(u),e(),console.log(localStorage)}(n),t()))}))})()})();